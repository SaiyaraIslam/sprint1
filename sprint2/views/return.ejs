<!DOCTYPE html> <!--declaring the doctype-->
<html lang="en">
<head>
  <title>Return Book</title> <!--title of the page-->
  <!--linking BS styling & css styling-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">

</head>
<body class="container py-4"> <!--BS container with padding-->
  <h1 class="mb-4">↩️ Return a Book</h1> <!--heading part-->
  <a href="/" class="btn btn-secondary mb-3"> Back</a> <!--button to go back-->
  <form method="POST" action="/return" class="row g-3"> <!--form to return the book-->
    <div class="col-12"> <!--dropdown menu working dynamically with borrowing records-->
      <label class="form-label">Borrowed Book</label>
      <select name="id" class="form-select" required>
        <% borrowings.forEach(b => { if (!b.returndate) { %> <!--books that have not been returned shows-->
          <option value="<%= b.id %>">
            <%= b.title %> — <%= b.firstname %> <%= b.lastname %> (Borrowed on <%= new Date(b.borrowdate).toLocaleDateString() %>)
          </option>
        <% }}); %>
      </select>
    </div>
    <div class="col-12">
      <!--submit button action-->
      <button type="submit" class="btn btn-warning">Return Book</button>
    </div>
  </form>
</body>
</html>
